<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä»Šå¤©å’Œå®å®åƒä»€ä¹ˆï¼Ÿ</title>
    <!-- ä½¿ç”¨ https åè®®å¼•å…¥ jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: #333;
        }
        .container {
            max-width: 800px;
            width: 100%;
            text-align: center;
        }
        h1 {
            margin: 20px 0;
            font-size: 2.5em;
        }
        .emoji-bar {
            font-size: 1.8em;
            margin-bottom: 30px;
            letter-spacing: 10px;
        }
        .content {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 40px;
            margin-bottom: 40px;
        }
        .wheel-section {
            flex: 0 0 auto;
        }
        .wheel-container {
            position: relative;
            width: 320px;
            height: 320px;
            margin: 0 auto;
        }
        /* è½®ç›˜ä¸»ä½“ */
        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            transition: transform 3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            transform: rotate(0deg);
            background-color: #f0f0f0;
        }
        /* 14ä¸ªæ‰‡åŒº - é«˜å¯¹æ¯”åº¦é¢œè‰² */
        .sector {
            position: absolute;
            width: 50%;
            height: 50%;
            left: 0;
            top: 0;
            transform-origin: 100% 100%;
        }
        /* ç™½è‰²åˆ†éš”çº¿ - æ¸…æ™°åˆ’åˆ†åŒºåŸŸ */
        .sector::after {
            content: '';
            position: absolute;
            width: 2px;
            height: 50%;
            background-color: rgba(255, 255, 255, 0.9);
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
        }
        /* æ‰‡å½¢é¢œè‰²å®šä¹‰ (360/14 â‰ˆ 25.714åº¦) */
        .sector:nth-child(1)  { background-color: #FF6B6B; transform: rotate(0deg); }
        .sector:nth-child(2)  { background-color: #FFA726; transform: rotate(25.714deg); }
        .sector:nth-child(3)  { background-color: #FFEE58; transform: rotate(51.428deg); }
        .sector:nth-child(4)  { background-color: #9CCC65; transform: rotate(77.142deg); }
        .sector:nth-child(5)  { background-color: #26A69A; transform: rotate(102.856deg); }
        .sector:nth-child(6)  { background-color: #4FC3F7; transform: rotate(128.57deg); }
        .sector:nth-child(7)  { background-color: #42A5F5; transform: rotate(154.284deg); }
        .sector:nth-child(8)  { background-color: #5C6BC0; transform: rotate(180deg); }
        .sector:nth-child(9)  { background-color: #7E57C2; transform: rotate(205.714deg); }
        .sector:nth-child(10) { background-color: #AB47BC; transform: rotate(231.428deg); }
        .sector:nth-child(11) { background-color: #EC407A; transform: rotate(257.142deg); }
        .sector:nth-child(12) { background-color: #EF5350; transform: rotate(282.856deg); }
        .sector:nth-child(13) { background-color: #78909C; transform: rotate(308.57deg); }
        .sector:nth-child(14) { background-color: #8D6E63; transform: rotate(334.284deg); }

        /* ç²¾å‡†çš„ç»†æŒ‡é’ˆ */
        .pointer {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 40px solid #333;
            z-index: 20;
            filter: drop-shadow(0 3px 2px rgba(0,0,0,0.2));
        }
        .pointer::after {
            content: '';
            position: absolute;
            width: 12px;
            height: 12px;
            background-color: #333;
            border-radius: 50%;
            top: 32px;
            left: -6px;
        }
        .controls {
            margin-top: 25px;
        }
        #spinButton {
            background: linear-gradient(to right, #FF6B6B, #FF8E53);
            color: white;
            border: none;
            padding: 16px 45px;
            font-size: 1.3em;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 6px 15px rgba(255, 107, 107, 0.3);
            transition: all 0.3s ease;
        }
        #spinButton:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(255, 107, 107, 0.4);
        }
        #spinButton:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        .kiss-tip {
            font-size: 1.1em;
            color: #FF6B6B;
            margin-top: 15px;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 20px;
            border-radius: 30px;
            display: inline-block;
            cursor: pointer;
        }
        .options-panel {
            flex: 0 0 300px;
            background-color: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            text-align: left;
        }
        .options-panel h2 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.6em;
            border-bottom: 2px solid #FFC1CC;
            padding-bottom: 10px;
        }
        .options-list {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        .option-item {
            display: flex;
            align-items: center;
            padding: 10px 12px;
            border-radius: 10px;
            background-color: #f8f9fa;
            transition: transform 0.2s;
        }
        .option-item:hover {
            transform: translateY(-2px);
            background-color: #fff;
            box-shadow: 0 3px 8px rgba(0,0,0,0.1);
        }
        .color-box {
            width: 20px;
            height: 20px;
            border-radius: 5px;
            margin-right: 10px;
            flex-shrink: 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .result {
            background-color: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            width: 100%;
            max-width: 600px;
            margin-top: 20px;
        }
        .result h3 {
            margin-bottom: 15px;
            font-size: 1.5em;
            color: #666;
        }
        #resultValue {
            font-size: 2.2em;
            font-weight: bold;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #resultValue span {
            padding: 12px 28px;
            border-radius: 15px;
            color: white;
            display: inline-block;
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        @media (max-width: 768px) {
            .content {
                flex-direction: column;
                align-items: center;
            }
            .wheel-container {
                width: 280px;
                height: 280px;
            }
            .options-panel {
                width: 100%;
                max-width: 400px;
            }
            .options-list {
                grid-template-columns: 1fr;
            }
            h1 {
                font-size: 2em;
            }
            #resultValue {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ä»Šå¤©å’Œå®å®åƒä»€ä¹ˆï¼Ÿ</h1>
        <div class="emoji-bar">ğŸ– ğŸ¥˜ ğŸ” ğŸŸ ğŸ¢ ğŸœ ğŸ• ğŸ£ ğŸ› ğŸ¥—</div>

        <div class="content">
            <!-- å·¦ä¾§è½®ç›˜åŒºåŸŸ -->
            <div class="wheel-section">
                <div class="wheel-container">
                    <div class="pointer"></div>
                    <div class="wheel" id="wheel">
                        <!-- 14ä¸ªæ‰‡åŒº -->
                        <div class="sector"></div><div class="sector"></div>
                        <div class="sector"></div><div class="sector"></div>
                        <div class="sector"></div><div class="sector"></div>
                        <div class="sector"></div><div class="sector"></div>
                        <div class="sector"></div><div class="sector"></div>
                        <div class="sector"></div><div class="sector"></div>
                        <div class="sector"></div><div class="sector"></div>
                    </div>
                </div>
                <div class="controls">
                    <button id="spinButton">å¼€å§‹æ—‹è½¬ ğŸ¯</button>
                    <div class="kiss-tip">ğŸ˜˜ äº²ä¸€å£è®©è½®ç›˜å¼€å§‹è½¬åŠ¨ ğŸ’‹</div>
                </div>
            </div>

            <!-- å³ä¾§é€‰é¡¹åˆ—è¡¨ -->
            <div class="options-panel">
                <h2>ğŸ½ï¸ ç¾å‘³é€‰é¡¹ ğŸ¥¢</h2>
                <div class="options-list" id="optionsList">
                    <!-- é€‰é¡¹ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>

        <!-- ç»“æœå±•ç¤ºåŒº -->
        <div class="result">
            <h3><span>ğŸ‘§â¤ï¸</span> ä»Šå¤©å’Œå®å®åƒçš„æ˜¯ï¼š <span>ğŸ´</span></h3>
            <div id="resultValue">ç­‰å¾…é€‰æ‹©...</div>
        </div>
    </div>

    <script>
        // å®šä¹‰14ä¸ªé€‰é¡¹ - é«˜å¯¹æ¯”åº¦é¢œè‰²
        const options = [
            { name: 'çƒ¤è‚‰', color: '#FF6B6B', emoji: 'ğŸ–' },
            { name: 'ç«é”…', color: '#FFA726', emoji: 'ğŸ¥˜' },
            { name: 'å¿«é¤', color: '#FFEE58', emoji: 'ğŸ”' },
            { name: 'çƒ¤é±¼', color: '#9CCC65', emoji: 'ğŸŸ' },
            { name: 'çƒ§çƒ¤', color: '#26A69A', emoji: 'ğŸ¢' },
            { name: 'å°åƒ', color: '#4FC3F7', emoji: 'ğŸ¡' },
            { name: 'é“é”…ç‚–', color: '#42A5F5', emoji: 'ğŸ²' },
            { name: 'éº»è¾£çƒ«', color: '#5C6BC0', emoji: 'ğŸŒ¶ï¸' },
            { name: 'è¥¿é¤', color: '#7E57C2', emoji: 'ğŸ•' },
            { name: 'å¹²é”…', color: '#AB47BC', emoji: 'ğŸ¥˜' },
            { name: 'å®¶å¸¸èœ', color: '#EC407A', emoji: 'ğŸ›' },
            { name: 'é¢ç±»', color: '#EF5350', emoji: 'ğŸœ' },
            { name: 'å•¥ä¹Ÿä¸åƒ', color: '#78909C', emoji: 'ğŸ˜´' },
            { name: 'å®å®è‡ªå·±å®š', color: '#8D6E63', emoji: 'ğŸ‘§' }
        ];

        let isSpinning = false;
        let currentRotation = 0;

        // åˆå§‹åŒ–ï¼šç”Ÿæˆé€‰é¡¹åˆ—è¡¨
        function initOptionsList() {
            const list = $('#optionsList');
            list.empty();
            options.forEach(opt => {
                list.append(`
                    <div class="option-item">
                        <div class="color-box" style="background-color:${opt.color};"></div>
                        <span>${opt.name}</span>
                        <span style="margin-left:auto;">${opt.emoji}</span>
                    </div>
                `);
            });
        }

        // å¼€å§‹æ—‹è½¬ - ä¼˜åŒ–åœæ­¢ç²¾åº¦
        function startSpin() {
            if (isSpinning) return;

            isSpinning = true;
            $('#spinButton').prop('disabled', true).text('æ—‹è½¬ä¸­... ğŸŒ€');
            $('#resultValue').html('<span style="background:#666;color:white;">æ—‹è½¬ä¸­...</span>');

            // éšæœºé€‰æ‹©ä¸€ä¸ªé€‰é¡¹
            const selectedIndex = Math.floor(Math.random() * options.length);
            const selectedOption = options[selectedIndex];

            // *** ç²¾ç¡®è®¡ç®—åœæ­¢è§’åº¦ ***
            const anglePerOption = 360 / options.length; // æ¯ä¸ªæ‰‡å½¢çš„è§’åº¦
            
            // è®¡ç®—é€‰ä¸­æ‰‡å½¢çš„ä¸­å¿ƒè§’åº¦
            const minAngle = selectedIndex * anglePerOption;
            const maxAngle = (selectedIndex + 1) * anglePerOption;
            const targetCenterAngle = (minAngle + maxAngle) / 2;
            
            // è®¡ç®—æœ€ç»ˆåœæ­¢è§’åº¦ï¼šå½“å‰è§’åº¦ + 4åœˆ + è°ƒæ•´åˆ°æ‰‡å½¢ä¸­å¿ƒ
            const extraSpins = 1440; // 4åœˆ
            const stopAngle = currentRotation + extraSpins + (360 - targetCenterAngle % 360) - (anglePerOption / 2);

            // åº”ç”¨æ—‹è½¬ï¼ˆå…ˆåŠ é€Ÿåå‡é€Ÿæ•ˆæœï¼‰
            $('#wheel').css({
                'transform': `rotate(${stopAngle}deg)`,
                'transition': 'transform 3s cubic-bezier(0.68, -0.55, 0.27, 1.55)'
            });
            
            currentRotation = stopAngle % 360;

            // 3ç§’ååœæ­¢å¹¶æ˜¾ç¤ºç»“æœ
            setTimeout(() => {
                let resultText = selectedOption.name;
                let resultEmoji = selectedOption.emoji;
                
                if (resultText === 'å®å®è‡ªå·±å®š') {
                    resultText = 'å®å®å†³å®šåƒä»€ä¹ˆ';
                    resultEmoji = 'ğŸ‘§';
                }

                // æ˜¾ç¤ºç»“æœï¼Œä½¿ç”¨é€‰ä¸­æ‰‡å½¢çš„é¢œè‰²
                $('#resultValue').html(`<span style="background-color:${selectedOption.color};">${resultEmoji} ${resultText}</span>`);
                
                // é‡ç½®æŒ‰é’®çŠ¶æ€
                isSpinning = false;
                $('#spinButton').prop('disabled', false).text('å¼€å§‹æ—‹è½¬ ğŸ¯');
            }, 3000);
        }

        // äº‹ä»¶ç»‘å®š
        $(document).ready(function() {
            initOptionsList();

            // æŒ‰é’®ç‚¹å‡»
            $('#spinButton').on('click', startSpin);
            
            // è§¦æ‘¸è®¾å¤‡æ”¯æŒ
            $('#spinButton').on('touchstart', function(e) {
                e.preventDefault();
                if (!isSpinning) startSpin();
            });

            // ç‚¹å‡»æç¤ºæ–‡å­—å¼€å§‹
            $('.kiss-tip').on('click', function() {
                if (!isSpinning) startSpin();
            });

            // ç‚¹å‡»è½®ç›˜å¼€å§‹
            $('#wheel').on('click', function() {
                if (!isSpinning) startSpin();
            });

            // ä¸ºé€‰é¡¹åˆ—è¡¨é¡¹æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼ˆå¯é€‰åŠŸèƒ½ï¼šç‚¹å‡»ç›´æ¥é€‰æ‹©ï¼‰
            $('#optionsList').on('click', '.option-item', function() {
                if (isSpinning) return;
                const index = $(this).index();
                // è¿™é‡Œå¯ä»¥æ·»åŠ ç›´æ¥é€‰æ‹©è¯¥é€‰é¡¹çš„é€»è¾‘ï¼ˆå¦‚æœéœ€è¦ï¼‰
            });
        });
    </script>
</body>
</html>
